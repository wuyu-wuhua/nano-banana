# Nano Banana AI 绘图功能使用说明

## 功能概述

Nano Banana AI 绘图功能基于阿里云 DashScope API，提供两种AI绘图模式：

1. **文生图 (Text-to-Image)**: 通过文字描述生成图片
2. **图生图 (Image-to-Image)**: 基于参考图片和描述生成新图片

## 使用方法

### 1. 文生图模式

1. 在左侧选择"文生图"标签页
2. 在文本框中描述你想要生成的图片内容
3. 选择图片风格（写实、动漫、油画、水彩、素描）
4. 选择输出尺寸（1:1、3:4、4:3、16:9、9:16）
5. 点击"开始生成"按钮
6. 等待AI生成完成，查看结果

### 2. 图生图模式

1. 在左侧选择"图生图"标签页
2. 上传参考图片（支持JPG、PNG格式）
3. 调整参考强度（0-100%）
4. 输入描述修改内容
5. 选择风格和输出尺寸
6. 点击"开始生成"按钮
7. 等待AI生成完成，查看结果

## 功能特性

- **实时进度显示**: 生成过程中显示进度条和状态
- **多种风格选择**: 支持多种艺术风格
- **灵活尺寸设置**: 支持多种常用图片尺寸比例
- **图片管理**: 支持下载、收藏、删除生成的图片
- **错误处理**: 完善的错误提示和用户反馈
- **响应式设计**: 支持桌面和移动设备

## 技术架构

- **前端**: Next.js 13 + React + TypeScript + Tailwind CSS
- **API**: Next.js API Routes
- **AI服务**: 阿里云 DashScope API (wanx-v1模型)
- **图标**: Lucide React

## API配置

项目使用以下环境变量：

```bash
NEXT_PUBLIC_DASHSCOPE_API_KEY=your_api_key_here
```

## 文件结构

```
src/
├── app/
│   ├── draw/
│   │   └── page.tsx          # 绘图页面路由
│   └── api/
│       ├── draw/
│       │   └── route.ts      # 文生图API
│       └── image2image/
│           └── route.ts      # 图生图API
├── components/
│   └── DrawPage.tsx          # 绘图页面主组件
└── lib/
    └── dashscope.ts          # DashScope API配置
```

## 注意事项

1. **API限制**: DashScope API有调用频率和配额限制
2. **图片格式**: 支持JPG、PNG格式的图片上传
3. **文件大小**: 建议上传图片不超过10MB
4. **生成时间**: 图片生成可能需要几分钟，请耐心等待
5. **网络要求**: 需要稳定的网络连接来调用AI服务

## 故障排除

### 常见问题

1. **生成失败**: 检查网络连接和API密钥配置
2. **图片上传失败**: 检查图片格式和文件大小
3. **进度条卡住**: 刷新页面重新开始
4. **API错误**: 检查控制台错误信息

### 调试方法

1. 打开浏览器开发者工具
2. 查看Console标签页的错误信息
3. 检查Network标签页的API请求状态
4. 验证环境变量配置

## 更新日志

- v1.0.0: 初始版本，支持文生图和图生图功能
- 支持多种风格和尺寸选择
- 完善的错误处理和用户反馈
- 响应式设计，支持移动设备
